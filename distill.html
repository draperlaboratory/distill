

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Documentation &mdash; Apache Distill 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Apache Distill 1.0 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Apache Distill
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Distill Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Apache Distill</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/distill.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-distill.app">
<span id="distill-restful-api"></span><h2>Distill RESTful API<a class="headerlink" href="#module-distill.app" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="distill.app.create">
<code class="descclassname">distill.app.</code><code class="descname">create</code><span class="sig-paren">(</span><em>app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an application in Distill.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XPOST https://localhost:8000/xdata_v3
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_id</strong> &#8211; Application name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Newly created application&#8217;s status as JSON blob</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.delete">
<code class="descclassname">distill.app.</code><code class="descname">delete</code><span class="sig-paren">(</span><em>app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes an application permentantly from Distill</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XDELETE https://localhost:8000/xdata_v3
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_id</strong> &#8211; Application name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean response message as JSON blob</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.denoise">
<code class="descclassname">distill.app.</code><code class="descname">denoise</code><span class="sig-paren">(</span><em>app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.denoise" title="Permalink to this definition">¶</a></dt>
<dd><p>Bootstrap script to cleanup the raw logs. A document type called &#8220;parsed&#8221;
will be stored with new log created unless specified in the request. Have option to save 
parsed results back to data store. These parsed logs can be intergrated with STOUT results 
by running the stout bootstrap script.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://localhost:8000/denoise/xdata_v3?save<span class="o">=</span>true<span class="p">&amp;</span><span class="nv">type</span><span class="o">=</span>parsed
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_id</strong> &#8211; Application name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">JSON blob of status</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.index">
<code class="descclassname">distill.app.</code><code class="descname">index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Show Distill version information, connection status, and all registered applications.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://localhost:8000

<span class="o">{</span>
        <span class="s2">&quot;author&quot;</span> : <span class="s2">&quot;Michelle Beard&quot;</span>,
        <span class="s2">&quot;email&quot;</span> : <span class="s2">&quot;mbeard@draper.com&quot;</span>,
        <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;Distill&quot;</span>,
        <span class="s2">&quot;status&quot;</span> : true,
        <span class="s2">&quot;version&quot;</span> : <span class="s2">&quot;1.0&quot;</span>,
        <span class="s2">&quot;applications&quot;</span> : <span class="o">{</span>
                <span class="s2">&quot;xdata_v3&quot;</span> : <span class="o">{</span>
                        testing: 205,
                        parsed: 500,
                <span class="o">}</span>,
                <span class="s2">&quot;test_app&quot;</span> : <span class="o">{</span>
                        logs: 500,
                        parsed: 100,
                <span class="o">}</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Distill&#8217;s status information as JSON blob</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.merge_stout">
<code class="descclassname">distill.app.</code><code class="descname">merge_stout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.merge_stout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bootstrap script to aggregate user ale logs to stout master answer table
This will save the merged results back to ES instance at new index stout
OR denoise data first, then merge with the stout index...
If STOUT is enabled, the select method expects a stout index to exist or otherwise 
it will return an error message.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://locahost:8000/stout/xdata_v3
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Status message</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.page_not_found">
<code class="descclassname">distill.app.</code><code class="descname">page_not_found</code><span class="sig-paren">(</span><em>error</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.page_not_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic Error Message</p>
</dd></dl>

<dl class="function">
<dt id="distill.app.search">
<code class="descclassname">distill.app.</code><code class="descname">search</code><span class="sig-paren">(</span><em>app_id</em>, <em>app_type</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search against an application on various fields.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://<span class="o">[</span>hostname<span class="o">]</span>:<span class="o">[</span>port<span class="o">]</span>/search/xdata_v3?q<span class="o">=</span>session_id:A1234<span class="p">&amp;</span><span class="nv">size</span><span class="o">=</span>100<span class="p">&amp;</span><span class="nv">scroll</span><span class="o">=</span>false<span class="p">&amp;</span><span class="nv">fl</span><span class="o">=</span>param1,param2
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>app_id</strong> &#8211; Application name</li>
<li><strong>app_type</strong> &#8211; Optional document type to filter against</li>
<li><strong>q</strong> &#8211; Main search query. To return all documents, pass in q=*:*</li>
<li><strong>size</strong> &#8211; Maximum number of documents to return in request</li>
<li><strong>scroll</strong> &#8211; Scroll id if the number of documents exceeds 10,000</li>
<li><strong>fl</strong> &#8211; List of fields to restrict the result set</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">JSON blob of result set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.stat">
<code class="descclassname">distill.app.</code><code class="descname">stat</code><span class="sig-paren">(</span><em>app_id</em>, <em>app_type</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.stat" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Not implemented/available</p>
</div>
<p>Generic histogram counts for a single registered application filtered optionally by document type.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://localhost:8000/xdata_v3/testing/?elem<span class="o">=</span>signup<span class="p">&amp;</span><span class="nv">event</span><span class="o">=</span>click
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>app_id</strong> &#8211; Application name</li>
<li><strong>app_type</strong> &#8211; Application type</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">JSON blob of result set</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.status">
<code class="descclassname">distill.app.</code><code class="descname">status</code><span class="sig-paren">(</span><em>app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Presents meta information about an registered application, including field names and document types.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XGET https://localhost:8000/status/xdata_v3

<span class="o">{</span>
  <span class="s2">&quot;application&quot;</span>: <span class="s2">&quot;xdata_v3&quot;</span>,
  <span class="s2">&quot;health&quot;</span>: <span class="s2">&quot;green&quot;</span>,
  <span class="s2">&quot;num_docs&quot;</span>: <span class="s2">&quot;433&quot;</span>,
  <span class="s2">&quot;status&quot;</span>: <span class="s2">&quot;open&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_id</strong> &#8211; Application name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Registered applications meta data as JSON blob</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="distill.app.update">
<code class="descclassname">distill.app.</code><code class="descname">update</code><span class="sig-paren">(</span><em>app_id</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.app.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Renames a specific application</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ curl -XPOST https://localhost:8000/update/xdata_v3?name<span class="o">=</span><span class="s2">&quot;xdata_v4&quot;</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>app_id</strong> &#8211; Application name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Boolean response message as JSON blob</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-distill.exceptions">
<span id="distill-exceptions"></span><h2>Distill Exceptions<a class="headerlink" href="#module-distill.exceptions" title="Permalink to this headline">¶</a></h2>
<p>distill: This package contains a flask app RESTful api for distill</p>
<p>This flask app exposes some restful api endpoints for querying User-ALE. 
Very similar to Lucene syntax for basic query operations.</p>
<p>Copyright 2016, The Charles Stark Draper Laboratory
Licensed under Apache Software License.</p>
<dl class="exception">
<dt id="distill.exceptions.ValidationError">
<em class="property">exception </em><code class="descclassname">distill.exceptions.</code><code class="descname">ValidationError</code><a class="headerlink" href="#distill.exceptions.ValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

</div>
<div class="section" id="distill-validation-library">
<h2>Distill Validation Library<a class="headerlink" href="#distill-validation-library" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-distill.validation"></span><p>distill: This package contains a flask app RESTful api for distill</p>
<p>This flask app exposes some restful api endpoints for querying User-ALE. 
Very similar to Lucene syntax for basic query operations.</p>
<p>Copyright 2016, The Charles Stark Draper Laboratory
Licensed under Apache Software License.</p>
<dl class="function">
<dt id="distill.validation.str2bool">
<code class="descclassname">distill.validation.</code><code class="descname">str2bool</code><span class="sig-paren">(</span><em>v</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.validation.str2bool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="distill.validation.validate_request">
<code class="descclassname">distill.validation.</code><code class="descname">validate_request</code><span class="sig-paren">(</span><em>q</em><span class="sig-paren">)</span><a class="headerlink" href="#distill.validation.validate_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-distill">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-distill" title="Permalink to this headline">¶</a></h2>
<p>Distill: This package contains a flask app RESTful api for distill</p>
<p>Copyright 2016, The Charles Stark Draper Laboratory
Licensed under Apache Software License.</p>
</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="distill.algorithms.html">distill.algorithms package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distill.algorithms.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="distill.algorithms.graphs.html">distill.algorithms.graphs package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="distill.algorithms.graphs.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="distill.algorithms.graphs.tests.html">distill.algorithms.graphs.tests package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="distill.algorithms.graphs.tests.html#module-distill.algorithms.graphs.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="distill.algorithms.graphs.html#module-distill.algorithms.graphs">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="distill.algorithms.stats.html">distill.algorithms.stats package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="distill.algorithms.stats.html#subpackages">Subpackages</a><ul>
<li class="toctree-l5"><a class="reference internal" href="distill.algorithms.stats.tests.html">distill.algorithms.stats.tests package</a><ul>
<li class="toctree-l6"><a class="reference internal" href="distill.algorithms.stats.tests.html#module-distill.algorithms.stats.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="distill.algorithms.stats.html#module-distill.algorithms.stats">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="distill.algorithms.tests.html">distill.algorithms.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="distill.algorithms.tests.html#module-distill.algorithms.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="distill.algorithms.html#module-distill.algorithms">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distill.deploy.html">distill.deploy package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distill.deploy.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.deploy.html#module-distill.deploy.run_server">distill.deploy.run_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.deploy.html#module-distill.deploy">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distill.models.html">distill.models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distill.models.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="distill.models.tests.html">distill.models.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="distill.models.tests.html#module-distill.models.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="distill.models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.models.html#module-distill.models.stout">distill.models.stout module</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.models.html#module-distill.models.userale">distill.models.userale module</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.models.html#module-distill.models">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distill.tests.html">distill.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distill.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.tests.html#module-distill.tests.basic_test">distill.tests.basic_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.tests.html#module-distill.tests.distill_test">distill.tests.distill_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="distill.tests.html#module-distill.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="distill.utils.html">distill.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="distill.utils.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="distill.utils.tests.html">distill.utils.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="distill.utils.tests.html#module-distill.utils.tests">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="distill.utils.html#module-distill.utils">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, The Charles Stark Draper Laboratory Licensed under Apache Software License..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>